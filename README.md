# ๐พ Disk Space Analyzer

ะะพะผะฟะปะตะบัะฝัะน ะฐะฝะฐะปะธะทะฐัะพั ะดะธัะบะพะฒะพะน ัะธััะตะผั ะดะปั Debian 12 / Ubuntu 20+ ั ะดะตัะฐะปัะฝะพะน ะดะธะฐะณะฝะพััะธะบะพะน ะธ ะบัะฐัะธะฒัะผ ะฒัะฒะพะดะพะผ.

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Bash](https://img.shields.io/badge/bash-5.0%2B-green.svg)
![Platform](https://img.shields.io/badge/platform-Debian%20%7C%20Ubuntu-orange.svg)

## ๐ฏ ะะพะทะผะพะถะฝะพััะธ

- **ะะพะปะฝัะน ะฐะฝะฐะปะธะท ัะฐะนะปะพะฒัั ัะธััะตะผ** โ ext4, XFS, Btrfs, NFS, CIFS ะธ ะดััะณะธะต
- **ะะธะทัะฐะปะธะทะฐัะธั ะผะพะฝัะธัะพะฒะฐะฝะธะน** โ ะดัะตะฒะพะฒะธะดะฝะฐั ััััะบัััะฐ ั ะทะฐะฒะธัะธะผะพัััะผะธ
- **ะขะพะฟะพะปะพะณะธั ััััะพะนััะฒ** โ ะพั ัะธะทะธัะตัะบะธั ะดะธัะบะพะฒ ะดะพ ะปะพะณะธัะตัะบะธั ัะพะผะพะฒ
- **RAID / LVM / Btrfs ะดะธะฐะณะฝะพััะธะบะฐ** โ ััะฐััั ะผะฐััะธะฒะพะฒ ะธ ัะพะผะพะฒ
- **ะะพะธัะบ ะฟัะพะฑะปะตะผ** โ ะบััะฟะฝัะต ัะฐะนะปั, ะฟะตัะตะฟะพะปะฝะตะฝะฝัะต ัะฐะทะดะตะปั, ััะตัะบะธ ะฟะฐะผััะธ
- **SMART ะผะพะฝะธัะพัะธะฝะณ** โ ัะพััะพัะฝะธะต ะดะธัะบะพะฒ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
- **ะะพะฝัะตะนะฝะตัั ะธ ัะฝะฐะฟั** โ Docker, Snap, Flatpak
- **ะญะบัะฟะพัั ะดะฐะฝะฝัั** โ JSON, CSV, TXT ัะพัะผะฐัั
- **ะฆะฒะตัะฝะพะน ะฒัะฒะพะด** โ ัะดะพะฑะฝะฐั ะฝะฐะฒะธะณะฐัะธั ะฟะพ ัะตะทัะปััะฐัะฐะผ

## ๐ฆ ะฃััะฐะฝะพะฒะบะฐ

```bash
# ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน
git clone https://github.com/yourusername/disk-space-analyzer.git
cd disk-space-analyzer

# ะกะดะตะปะฐะนัะต ัะบัะธะฟั ะธัะฟะพะปะฝัะตะผัะผ
chmod +x disk-usage.sh

# ะะฐะฟัััะธัะต
./disk-usage.sh
```

### ะะฐะฒะธัะธะผะพััะธ

**ะะฑัะทะฐัะตะปัะฝัะต:**
- `coreutils` (df, du, sort, awk)
- `util-linux` (findmnt, lsblk)

**ะะฟัะธะพะฝะฐะปัะฝัะต** (ะดะปั ัะฐััะธัะตะฝะฝะพะณะพ ััะฝะบัะธะพะฝะฐะปะฐ):
```bash
apt install -y lsof mdadm lvm2 btrfs-progs smartmontools docker.io snapd
```

ะกะบัะธะฟั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะพะฒะตัะธั ะฝะฐะปะธัะธะต ััะธะปะธั ะธ ะฟัะตะดะปะพะถะธั ัััะฐะฝะพะฒะธัั ะฝะตะดะพััะฐััะธะต.

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะฐะทะพะฒัะต ะบะพะผะฐะฝะดั

```bash
# ะกัะฐะฝะดะฐััะฝัะน ะฐะฝะฐะปะธะท
./disk-usage.sh

# ะัััััะน ัะตะถะธะผ (ะฑะตะท ะฟะพะธัะบะฐ ะบััะฟะฝัั ัะฐะนะปะพะฒ)
./disk-usage.sh --quick

# ะะปัะฑะพะบะธะน ะฐะฝะฐะปะธะท ั SMART ะดะธะฐะณะฝะพััะธะบะพะน
sudo ./disk-usage.sh --deep --with-smart

# ะขะพะฟ-10 ะบััะฟะฝัั ะบะฐัะฐะปะพะณะพะฒ ะธ ัะฐะนะปะพะฒ
./disk-usage.sh --topn 10 --min 50
```

### ะคะธะปัััะฐัะธั ะธ ัะบัะฟะพัั

```bash
# ะะฝะฐะปะธะท ัะพะปัะบะพ ะบะพะฝะบัะตัะฝัั ัะฐะทะดะตะปะพะฒ
./disk-usage.sh --only "/,/home"

# ะะบะปััะธัั ะฟัะตะฒะดะพ-ัะฐะนะปะพะฒัะต ัะธััะตะผั (tmpfs, proc)
./disk-usage.sh --include-pseudo

# ะญะบัะฟะพัั ะฒ JSON
./disk-usage.sh --json report.json

# ะญะบัะฟะพัั ะฒ CSV
./disk-usage.sh --csv data.csv

# ะกะพััะฐะฝะธัั ัะตะบััะพะฒัะน ะพััะตั
./disk-usage.sh --txt analysis.txt
```

### ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

**ะะฐะนัะธ ััะพ ะทะฐะฝะธะผะฐะตั ะผะตััะพ ะฝะฐ ัะตัะฒะตัะต:**
```bash
./disk-usage.sh --deep --min 500 --topn 30
```

**ะััััะฐั ะฟัะพะฒะตัะบะฐ ะฟะตัะตะด ะพะฑะฝะพะฒะปะตะฝะธะตะผ:**
```bash
./disk-usage.sh --quick --only "/"
```

**ะะพะปะฝัะน ะฐัะดะธั ะดะปั ะพััะตัะฐ:**
```bash
sudo ./disk-usage.sh --deep --with-smart --json server-audit.json
```

## ๐ ะงัะพ ะฐะฝะฐะปะธะทะธััะตััั

### 1. **ะคะฐะนะปะพะฒัะต ัะธััะตะผั**
- ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฟัะพัััะฐะฝััะฒะฐ ะธ inodes
- ะขะพัะบะธ ะผะพะฝัะธัะพะฒะฐะฝะธั
- ะขะธะฟั ะคะก ะธ ะธััะพัะฝะธะบะธ

### 2. **ะกัััะบัััะฐ ััััะพะนััะฒ**
- ะคะธะทะธัะตัะบะธะต ะดะธัะบะธ (HDD/SSD)
- ะะฐะทะดะตะปั ะธ ะธั ะธะตัะฐััะธั
- ะะพะดะตะปะธ, ัะตัะธะนะฝัะต ะฝะพะผะตัะฐ, WWN

### 3. **RAID ะธ LVM**
- ะกัะฐััั MD RAID ะผะฐััะธะฒะพะฒ
- Physical/Volume/Logical volumes
- Btrfs ััะฑัะพะผะฐ ะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต

### 4. **ะกะตัะตะฒัะต ะผะพะฝัะธัะพะฒะฐะฝะธั**
- NFS, CIFS, FUSE
- ะะฟัะธะธ ะผะพะฝัะธัะพะฒะฐะฝะธั
- ะกัะฐััั ะฟะพะดะบะปััะตะฝะธั

### 5. **ะััะฟะฝัะต ะฟะพััะตะฑะธัะตะปะธ**
- ะขะพะฟ ะบะฐัะฐะปะพะณะพะฒ ะฟะพ ัะฐะทะผะตัั
- ะคะฐะนะปั โฅ100MB (ะฝะฐัััะฐะธะฒะฐะตััั)
- ะััะฝะฐะปั ะธ ะบะตัะธ

### 6. **ะะพะฝัะตะนะฝะตัั**
- Docker (ะพะฑัะฐะทั, ะบะพะฝัะตะนะฝะตัั, ัะพะผะฐ)
- Snap ะฟะฐะบะตัั
- Flatpak ะฟัะธะปะพะถะตะฝะธั

### 7. **ะฃัะตัะบะธ ะฟะฐะผััะธ**
- ะฃะดะฐะปะตะฝะฝัะต, ะฝะพ ะพัะบััััะต ัะฐะนะปั
- ะัะพัะตััั, ะดะตัะถะฐัะธะต ะดะตัะบัะธะฟัะพัั

### 8. **ะกะธััะตะผะฐ ะฟะพะดะบะฐัะบะธ**
- Swap ัะฐะทะดะตะปั ะธ ัะฐะนะปั
- tmpfs ะธ shared memory

### 9. **SMART ะดะธะฐะณะฝะพััะธะบะฐ**
- ะกะพััะพัะฝะธะต ะทะดะพัะพะฒัั ะดะธัะบะพะฒ
- ะัะธัะธัะตัะบะธะต ะฐััะธะฑััั
- ะัะตะดัะฟัะตะถะดะตะฝะธั

### 10. **ะัะตะดัะฟัะตะถะดะตะฝะธั**
- ะะฐะทะดะตะปั ะทะฐะฟะพะปะฝะตะฝั >80%
- ะัะธัะธัะตัะบะธะต >90%
- ะัะพะฑะปะตะผั ั inodes

## โ๏ธ ะะฐัะฐะผะตััั

| ะะฟัะธั | ะะฟะธัะฐะฝะธะต | ะะฝะฐัะตะฝะธะต ะฟะพ ัะผะพะปัะฐะฝะธั |
|-------|----------|----------------------|
| `--quick` | ะัะพะฟัััะธัั ะฟะพะธัะบ ะบััะฟะฝัั ัะฐะนะปะพะฒ | false |
| `--deep` | ะะบะปััะธัั ัะฐััะธัะตะฝะฝัั ะดะธะฐะณะฝะพััะธะบั | false |
| `--topn N` | ะะพะปะธัะตััะฒะพ ัะปะตะผะตะฝัะพะฒ ะฒ ัะพะฟะฐั | 20 |
| `--min N` | ะะธะฝะธะผะฐะปัะฝัะน ัะฐะทะผะตั ัะฐะนะปะฐ (ะะ) | 100 |
| `--with-smart` | SMART ะดะธะฐะณะฝะพััะธะบะฐ (ะฝัะถะตะฝ root) | false |
| `--include-pseudo` | ะะพะบะฐะทะฐัั tmpfs, proc ะธ ั.ะด. | false |
| `--only MOUNTS` | ะะฝะฐะปะธะทะธัะพะฒะฐัั ัะพะปัะบะพ ัะบะฐะทะฐะฝะฝัะต ัะฐะทะดะตะปั | ะฒัะต |
| `--json [FILE]` | ะัะฒะพะด ะฒ JSON | - |
| `--csv [FILE]` | ะัะฒะพะด ะฒ CSV | - |
| `--txt [FILE]` | ะัะฒะพะด ะฒ TXT | stdout |

## ๐จ ะัะธะผะตัั ะฒัะฒะพะดะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  1. ะกะฒะพะดะบะฐ ะฟะพ ัะฐะนะปะพะฒัะผ ัะธััะตะผะฐะผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ะขะะงะะ ะะะะขะะะะะะะะฏ      FSTYPE       ะะกะะะ    ะะะะฏะขะ  ะะะกะขะฃะะะ   USE%   INODES%  ะะกะขะะงะะะ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
/                        ext4        50.0GiB   35.2GiB   12.1GiB    74%      45%    /dev/sda1
/home                    ext4       500.0GiB  387.9GiB  102.1GiB    79%      62%    /dev/sdb1
/backups                 ext4      1000.0GiB  856.3GiB  143.7GiB    86%      71%    /dev/sdc1
```

## ๐ง ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

**ะกะบัะธะฟั ะฝะต ะทะฐะฟััะบะฐะตััั:**
```bash
# ะัะพะฒะตัััะต ะฟัะฐะฒะฐ
chmod +x disk-usage.sh

# ะัะพะฒะตัััะต ะธะฝัะตัะฟัะตัะฐัะพั
head -1 disk-usage.sh
```

**ะัะธะฑะบะธ ั ะฟัะฐะฒะฐะผะธ ะดะพัััะฟะฐ:**
```bash
# ะะตะบะพัะพััะต ะพะฟะตัะฐัะธะธ ััะตะฑััั root
sudo ./disk-usage.sh --with-smart
```

**ะะตะดะปะตะฝะฝะฐั ัะฐะฑะพัะฐ:**
```bash
# ะัะฟะพะปัะทัะนัะต ะฑัััััะน ัะตะถะธะผ
./disk-usage.sh --quick

# ะะณัะฐะฝะธัััะต ะพะฑะปะฐััั ะฐะฝะฐะปะธะทะฐ
./disk-usage.sh --only "/" --topn 10
```

## ๐ ะกะธััะตะผะฝัะต ััะตะฑะพะฒะฐะฝะธั

- **ะะก:** Debian 12, Ubuntu 20.04+, ะธะปะธ ัะพะฒะผะตััะธะผัะต
- **Shell:** Bash 5.0+
- **ะัะฐะฒะฐ:** ะพะฑััะฝัะน ะฟะพะปัะทะพะฒะฐัะตะปั (root ะดะปั SMART)
- **ะะตััะพ:** ~1MB ะดะปั ัะบัะธะฟัะฐ

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

ะัะธะฒะตัััะฒััััั:
- ๐ ะกะพะพะฑัะตะฝะธั ะพะฑ ะพัะธะฑะบะฐั
- ๐ก ะัะตะดะปะพะถะตะฝะธั ะฝะพะฒัั ััะฝะบัะธะน
- ๐ง Pull requests ั ัะปัััะตะฝะธัะผะธ
- ๐ ะฃะปัััะตะฝะธั ะดะพะบัะผะตะฝัะฐัะธะธ

## ๐ ะะธัะตะฝะทะธั

MIT License - ัะฒะพะฑะพะดะฝะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะธ ะผะพะดะธัะธะบะฐัะธั.

## ๐ ะะปะฐะณะพะดะฐัะฝะพััะธ

ะกะพะทะดะฐะฝะพ ะดะปั ัะธััะตะผะฝัั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ, ะบะพัะพััะผ ะฝะฐะดะพะตะปะพ ัะพะฑะธัะฐัั ะธะฝัะพัะผะฐัะธั ะพ ะดะธัะบะฐั ะธะท ะดะตัััะบะฐ ัะฐะทะฝัั ะบะพะผะฐะฝะด.

---

**ะะพะปะตะทะฝัะต ัััะปะบะธ:**
- [ะะพะบัะผะตะฝัะฐัะธั](docs/)
- [ะกะฟะธัะพะบ ะธะทะผะตะฝะตะฝะธะน](CHANGELOG.md)
- [ะกะพะพะฑัะธัั ะพ ะฟัะพะฑะปะตะผะต](issues/)

**ะะพะดะดะตัะถะฐัั ะฟัะพะตะบั:** โญ ะะพััะฐะฒััะต ะทะฒะตะทะดั ะฝะฐ GitHub!
